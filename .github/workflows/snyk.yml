name: Example workflow for Node using Snyk
on: push
jobs:
  security:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@master
      - run: git fetch origin ${{ github.base_ref }} --depth=1
      - name: Run Snyk to check for vulnerabilities
        uses: snyk/actions/node@master
        env:
          SNYK_TOKEN: a7238f10-86dc-4b42-b2ff-a353ac4af51f
        with:
          command: monitor
      - name: repository all file list
        run: git ls-tree -r HEAD
      - name: repository diff file list
        run: echo "::set-output name=changed::$(git diff --name-only origin/${{ github.base_ref }} HEAD | wc -l)"